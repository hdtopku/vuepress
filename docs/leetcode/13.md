---
title: 13. ç½—é©¬æ•°å­—è½¬æ•´æ•° roman-to-integer
meta:
  - name: description
    content: ç½—é©¬æ•°å­—åŒ…å«ä»¥ä¸‹ä¸ƒç§å­—ç¬¦ï¼š Iï¼Œ Vï¼Œ Xï¼Œ Lï¼ŒCï¼ŒD å’Œ Mã€‚
  - name: keywords
    content: leetcode|åŠ›æ‰£|ç½—é©¬æ•°å­—è½¬æ•´æ•°|roman-to-integer
tags:
  - ç®€å•
date: 2020-04-02
---

:::details é¢˜ç›®
ç½—é©¬æ•°å­—åŒ…å«ä»¥ä¸‹ä¸ƒç§å­—ç¬¦:Â Iï¼ŒÂ Vï¼ŒÂ Xï¼ŒÂ Lï¼ŒCï¼ŒDÂ å’ŒÂ Mã€‚

å­—ç¬¦          æ•°å€¼
I             1
V             5
X             10
L             50
C             100
D             500
M             1000
ä¾‹å¦‚ï¼Œ ç½—é©¬æ•°å­— 2 å†™åšÂ IIÂ ï¼Œå³ä¸ºä¸¤ä¸ªå¹¶åˆ—çš„ 1ã€‚12 å†™åšÂ XIIÂ ï¼Œå³ä¸ºÂ XÂ +Â IIÂ ã€‚ 27 å†™åšÂ Â XXVII, å³ä¸ºÂ XXÂ +Â VÂ +Â IIÂ ã€‚

é€šå¸¸æƒ…å†µä¸‹ï¼Œç½—é©¬æ•°å­—ä¸­å°çš„æ•°å­—åœ¨å¤§çš„æ•°å­—çš„å³è¾¹ã€‚ä½†ä¹Ÿå­˜åœ¨ç‰¹ä¾‹ï¼Œä¾‹å¦‚ 4 ä¸å†™åšÂ IIIIï¼Œè€Œæ˜¯Â IVã€‚æ•°å­— 1 åœ¨æ•°å­— 5 çš„å·¦è¾¹ï¼Œæ‰€è¡¨ç¤ºçš„æ•°ç­‰äºŽå¤§æ•° 5 å‡å°æ•° 1 å¾—åˆ°çš„æ•°å€¼ 4 ã€‚åŒæ ·åœ°ï¼Œæ•°å­— 9 è¡¨ç¤ºä¸ºÂ IXã€‚è¿™ä¸ªç‰¹æ®Šçš„è§„åˆ™åªé€‚ç”¨äºŽä»¥ä¸‹å…­ç§æƒ…å†µï¼š

IÂ å¯ä»¥æ”¾åœ¨Â VÂ (5) å’ŒÂ XÂ (10) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 4 å’Œ 9ã€‚
XÂ å¯ä»¥æ”¾åœ¨Â LÂ (50) å’ŒÂ CÂ (100) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 40 å’ŒÂ 90ã€‚Â 
CÂ å¯ä»¥æ”¾åœ¨Â DÂ (500) å’ŒÂ MÂ (1000) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤ºÂ 400 å’ŒÂ 900ã€‚
ç»™å®šä¸€ä¸ªç½—é©¬æ•°å­—ï¼Œå°†å…¶è½¬æ¢æˆæ•´æ•°ã€‚è¾“å…¥ç¡®ä¿åœ¨ 1Â åˆ° 3999 çš„èŒƒå›´å†…ã€‚

ç¤ºä¾‹Â 1:

è¾“å…¥:Â "III"
è¾“å‡º: 3
ç¤ºä¾‹Â 2:

è¾“å…¥:Â "IV"
è¾“å‡º: 4
ç¤ºä¾‹Â 3:

è¾“å…¥:Â "IX"
è¾“å‡º: 9
ç¤ºä¾‹Â 4:

è¾“å…¥:Â "LVIII"
è¾“å‡º: 58
è§£é‡Š: L = 50, V= 5, III = 3.
ç¤ºä¾‹Â 5:

è¾“å…¥:Â "MCMXCIV"
è¾“å‡º: 1994
è§£é‡Š: M = 1000, CM = 900, XC = 90, IV = 4.
:::
[åŽŸé¢˜é“¾æŽ¥](https://leetcode.com/problems/roman-to-integer)

::: details åˆ†æž
ä»£ç è¡Œæ•°ï¼šè§£æž
æž„å»ºä¸€ä¸ªå­—å…¸è®°å½•æ‰€æœ‰ç½—é©¬æ•°å­—å­ä¸²ï¼Œæ³¨æ„é•¿åº¦ä¸º2çš„å­ä¸²è®°å½•çš„å€¼æ˜¯ï¼ˆå®žé™…å€¼ - å­ä¸²å†…å·¦è¾¹ç½—é©¬æ•°å­—ä»£è¡¨çš„æ•°å€¼ï¼‰

è¿™æ ·ä¸€æ¥ï¼ŒéåŽ†æ•´ä¸ª ss çš„æ—¶å€™åˆ¤æ–­å½“å‰ä½ç½®å’Œå‰ä¸€ä¸ªä½ç½®çš„ä¸¤ä¸ªå­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²æ˜¯å¦åœ¨å­—å…¸å†…ï¼Œå¦‚æžœåœ¨å°±è®°å½•å€¼ï¼Œä¸åœ¨å°±è¯´æ˜Žå½“å‰ä½ç½®ä¸å­˜åœ¨å°æ•°å­—åœ¨å‰é¢çš„æƒ…å†µï¼Œç›´æŽ¥è®°å½•å½“å‰ä½ç½®å­—ç¬¦å¯¹åº”å€¼

ä¸¾ä¸ªä¾‹å­ï¼ŒéåŽ†ç»è¿‡ IVIV çš„æ—¶å€™å…ˆè®°å½• II çš„å¯¹åº”å€¼ 11 å†å¾€å‰ç§»åŠ¨ä¸€æ­¥è®°å½• IVIV çš„å€¼ 33ï¼ŒåŠ èµ·æ¥æ­£å¥½æ˜¯ IVIV çš„çœŸå®žå€¼ 44ã€‚max å‡½æ•°åœ¨è¿™é‡Œæ˜¯ä¸ºäº†é˜²æ­¢éåŽ†ç¬¬ä¸€ä¸ªå­—ç¬¦çš„æ—¶å€™å‡ºçŽ° [-1:0][âˆ’1:0] çš„æƒ…å†µ

çŸ¥è¯†æ‹“å±•


ã€ðŸƒçŸ¥è¯†å¡ç‰‡ã€‘å“ˆå¸Œè¡¨å­˜å‚¨çš„æ˜¯ç”±é”®ï¼ˆkeyï¼‰å’Œå€¼ï¼ˆvalueï¼‰ç»„ æˆçš„æ•°æ®ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å°†æ¯ä¸ªäººçš„æ€§åˆ«ä½œä¸ºæ•° æ®è¿›è¡Œå­˜å‚¨ï¼Œé”®ä¸ºäººåï¼Œå€¼ä¸ºå¯¹åº”çš„æ€§åˆ«ã€‚

Python ä¸­æˆ‘ä»¬ä½¿ç”¨å­—å…¸ {key : value} æ¥åˆå§‹åŒ–å“ˆå¸Œè¡¨

é€šè¿‡ key æŸ¥æ‰¾ value çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)O(1)

è¿™é¢˜é¢˜è§£ä¸­çš„ d å°±æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œå…¶ä¸­ get(key, default) å‡½æ•°å¯ä»¥é€šè¿‡ key ä»Ž d ä¸­æ‰¾å‡ºå¯¹åº”çš„å€¼ï¼Œå¦‚æžœ key ä¸å­˜åœ¨åˆ™è¿”å›žé»˜è®¤å€¼ default
:::

ä»£ç è§£è¯»
``` python
class Solution:
    def romanToInt(self, s: str) -> int:
        d = {'I':1, 'IV':3, 'V':5, 'IX':8, 'X':10, 'XL':30, 'L':50, 'XC':80, 'C':100, 'CD':300, 'D':500, 'CM':800, 'M':1000}
        return sum(d.get(s[max(i-1, 0):i+1], d[n]) for i, n in enumerate(s))
```

```
import java.util.*;

class Solution {
    public int romanToInt(String s) {
        int sum = 0;
        int preNum = getValue(s.charAt(0));
        for(int i = 1;i < s.length(); i ++) {
            int num = getValue(s.charAt(i));
            if(preNum < num) {
                sum -= preNum;
            } else {
                sum += preNum;
            }
            preNum = num;
        }
        sum += preNum;
        return sum;
    }
    
    private int getValue(char ch) {
        switch(ch) {
            case 'I': return 1;
            case 'V': return 5;
            case 'X': return 10;
            case 'L': return 50;
            case 'C': return 100;
            case 'D': return 500;
            case 'M': return 1000;
            default: return 0;
        }
    }
}
```

``` c
class Solution {
public:
    int romanToInt(string s) {
        unordered_map<string, int> m = {{"I", 1}, {"IV", 3}, {"IX", 8}, {"V", 5}, {"X", 10}, {"XL", 30}, {"XC", 80}, {"L", 50}, {"C", 100}, {"CD", 300}, {"CM", 800}, {"D", 500}, {"M", 1000}};
        int r = m[s.substr(0, 1)];
        for(int i=1; i<s.size(); ++i){
            string two = s.substr(i-1, 2);
            string one = s.substr(i, 1);
            r += m[two] ? m[two] : m[one];
        }
        return r;
    }
};
```
